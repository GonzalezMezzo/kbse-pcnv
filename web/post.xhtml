<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <h:outputStylesheet library="css" name="style.css"/>
        <title>KBSE - #{viewmodel.currentPost.id}&nbsp;#{viewmodel.currentPost.url}</title>
    </h:head>
    <h:body>
        <!--b:modal id="editVote" title="Modal Example" styleClass="modalPseudoClass">
            <f:facet name="footer">
                <b:button value="Close" dismiss="modal" />
                <b:button value="Ok" look="primary" dismiss="modal" />
            </f:facet>
        </b:modal-->
        <b:navBar brand="SuperDuperForum" fluid="false" inverse="true" position="top" sticky="false">
            <h:form>
                <b:navbarLinks>
                    <b:navCommandLink value="Home" action="#{viewmodel.getINDEX()}" />
                    <b:navCommandLink value="Forum" action="#{viewmodel.getBOARD()}" />
                    <b:navCommandLink value="UserCenter" action="#{viewmodel.getUSER_CONTROL()}" />
                    <b:navCommandLink value="About" action="#{viewmodel.getABOUT()}" />
                </b:navbarLinks>
            </h:form>
        </b:navBar>

        <b:container>
            <b:panel collapsible="false" collapsed="false">
                <f:facet name="heading">
                    <b:form>
                        <b:icon name="star"/>
                        <h:outputText value="ID: #{viewmodel.currentPost.id}&nbsp;"/>
                        <h:outputText value="Website: #{viewmodel.currentPost.url}"/>
                        <b:buttonGroup size="xs" pull="right">
                            <b:button icon="plus" look="success"/>
                            <b:button icon="minus" look="danger"/>
                        </b:buttonGroup>
                    </b:form>
                </f:facet>
                <b:form>
                    <b:row>
                        <b:column col-md="2">
                            <b:row>
                                <b:column>
                                    <h:outputText value="Username:"/>
                                </b:column>
                            </b:row>
                            <b:row>
                                <b:column>
                                    <h:outputText value="#{viewmodel.currentPost.creatorId.username}"/>
                                </b:column>
                            </b:row>
                        </b:column>
                        <b:column col-md="10">
                            <b:inputTextarea readonly="true" rows="4" value="#{viewmodel.currentPost.description}"/>
                        </b:column>
                    </b:row>
                </b:form>
            </b:panel>
        </b:container>

        <ui:repeat value="#{viewmodel.currentPost.comments}" var="comment" varStatus="i">
            <b:container>
                <b:panel collapsible="false" collapsed="false" title="&#35;#{i.index}">
                    <!--f:facet name="heading">
                        <b:form>
                            <b:icon name="star"/>
                            <h:outputText value="ID: 1337 "/>
                            <h:outputText value="Website: www.aliexpress.com"/>
                            <b:buttonGroup size="xs" pull="right">
                                <b:button icon="plus" look="success"/>
                                <b:button icon="minus" look="danger"/>
                            </b:buttonGroup>
                        </b:form>
                    </f:facet-->
                    <b:form>
                        <b:row>
                            <b:column col-md="2">
                                <b:row>
                                    <b:column>
                                        <h:outputText value="Username:"/>
                                    </b:column>
                                </b:row>
                                <b:row>
                                    <b:column>
                                        <h:outputText value="#{comment.creator}"/>
                                    </b:column>
                                </b:row>
                                <b:row>
                                    <b:column>
                                        <h:outputText value="At #{comment.timeStamp}"/>
                                    </b:column>
                                </b:row>
                            </b:column>
                            <b:column col-md="10">
                                <b:inputTextarea readonly="true" rows="4" value="#{comment.message}"/>
                            </b:column>
                        </b:row>
                    </b:form>
                </b:panel>
            </b:container>
        </ui:repeat>
        <b:container>
            <b:panel collapsible="false" collapsed="false" title="Add Comment">
                <b:form>
                    <b:row>
                        <b:column col-md="2">
                            
                        </b:column>
                        <b:column col-md="10">
                            <b:inputTextarea readonly="false" rows="4" value="#{viewmodel.inputCommentMessage}"/>
                        </b:column>
                    </b:row>
                    <b:row>
                        <b:commandButton action="#{viewmodel.submitComment()}" value="Submit"/>
                    </b:row>
                </b:form>
            </b:panel>
        </b:container>
    </h:body>
</html>
