<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <h:outputStylesheet library="css" name="style.css"/>
        <title>kak?</title>
    </h:head>
    <h:body>
        <!--b:modal id="editVote" title="Modal Example" styleClass="modalPseudoClass">
            <f:facet name="footer">
                <b:button value="Close" dismiss="modal" />
                <b:button value="Ok" look="primary" dismiss="modal" />
            </f:facet>
        </b:modal-->

        <b:container>
            <b:panel title="User" look="primary" icon="user" icon-align="left" showCollapseLink="false">
                <b:form>
                    <b:row>
                        <b:column >
                            <h:outputText value="Username:"/>
                        </b:column>
                        <b:column >
                            <b:inputText placeholder="Username" id="username" value="#{viewmodel.inputTextUser}">
                                <f:facet name="prepend">
                                    <b:icon name="user" />
                                </f:facet>
                            </b:inputText>
                        </b:column>
                        <b:column >
                            <b:message for="username" />
                        </b:column>
                    </b:row>
                    <b:row>
                        <b:column>
                            <b:commandButton value="Change User" action="#{viewmodel.changeUser(0)}" large-screen="full-width"/>
                        </b:column>
                        <b:column>
                            <b:commandButton value="zur Bewertung" action="#{viewmodel.rating()}" large-screen="full-width"/>
                        </b:column>
                    </b:row>
                </b:form>
            </b:panel>
        </b:container>
        <b:container>
            <b:panel title="Add Rating" look="primary" icon="flag" icon-align="left">
                <b:form>
                    <b:row>
                        <b:column>
                            <h:outputText value="URL"/>
                        </b:column>
                        <b:column>
                            <b:inputText id="url"  value="#{viewmodel.url}"/>
                        </b:column>
                        <b:column>
                            <b:message for="url" />
                        </b:column>
                    </b:row>
                    <b:row>
                        <b:column>
                            <h:outputText value="Comment"/>
                        </b:column>
                        <b:column>
                            <b:inputTextarea id="comment" value="#{viewmodel.description}" field-size="md"/>
                        </b:column>
                        <b:column>
                            <b:message for="comment" />
                        </b:column>
                    </b:row>
                    <b:row>
                        <b:column>            
                             <b:commandButton value="add Comment" action="#{viewmodel.submitComment()}" large-screen="full-width"/>
                            <b:commandButton value="Submit" action="#{viewmodel.submitLink()}" large-screen="full-width"/>
                        </b:column>
                    </b:row>
                </b:form>
            </b:panel>

        </b:container>
        <b:container>
            <b:panel title="My Ratings" look="primary" icon="book" icon-align="left">
                <!--b:accordion-->
                <c:forEach items="#{viewmodel.postList}" var="post" varStatus="i">
                    <b:form>
                        <b:panel title="#{post.id} #{post.url}" look="primary" icon="star" icon-align="left" collapsible="true" collapsed="true">
                            <f:facet name="heading">
                                <b:icon name="flag" style="padding-right:20px" />
                                <h:outputText value="#{post.id}" />
                                <h:outputText value="#{post.url}" />
                                <b:badge style="margin-left:10px; background-color:#5cb85c" value="#{post.totalRating}"  />
                                
                            </f:facet>
                            <b:row>
                                <b:column>
                                    <b:inputTextarea span="12" readonly="true" value="#{post.description}"/>
                                </b:column>
                            </b:row>
                            <b:row>
                                <b:column>
                                    <b:commandButton value="Delete" action="#{viewmodel.delete(post)}" large-screen="full-width" look="danger"/>
                                </b:column>
                            </b:row>
                        </b:panel>
                    </b:form>
                </c:forEach>
                <!--/b:accordion-->
            </b:panel>
        </b:container>
    </h:body>
</html>

